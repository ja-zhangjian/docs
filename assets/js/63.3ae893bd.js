(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{413:function(t,s,a){"use strict";a.r(s);var n=a(25),p=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"收集十五-运行环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#收集十五-运行环境"}},[t._v("#")]),t._v(" 收集十五(运行环境)")]),t._v(" "),a("p",[t._v("题目：")]),t._v(" "),a("ol",[a("li",[t._v("从输入 url 到渲染出页面的整个过程")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("下载资源")])]),t._v(" "),a("li",[a("p",[t._v("渲染页面")])])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("window.onload 和 DOMContentLoaded 的区别")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("window.onload 资源全部加载完才能执行，包括图片")])]),t._v(" "),a("li",[a("p",[t._v("DOMContentLoaded:DOM 渲染完成即可，图片可能尚未下载")])])]),t._v(" "),a("p",[t._v("知识点")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("加载资源的形式")])]),t._v(" "),a("li",[a("p",[t._v("加载资源的过程")])]),t._v(" "),a("li",[a("p",[t._v("渲染页面的过程")])])]),t._v(" "),a("p",[t._v("解析：")]),t._v(" "),a("p",[t._v("运行环境即浏览器（server 端有 nodejs）")]),t._v(" "),a("p",[t._v("网页加载过程")]),t._v(" "),a("p",[t._v("性能优化")]),t._v(" "),a("p",[t._v("安全")]),t._v(" "),a("p",[t._v("资源的形式")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("html 代码")])]),t._v(" "),a("li",[a("p",[t._v("媒体文件 ，图片，视频")])]),t._v(" "),a("li",[a("p",[t._v("js css")])])]),t._v(" "),a("p",[t._v("加载过程")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("DNS 解析：域名=>IP 地址")])]),t._v(" "),a("li",[a("p",[t._v("浏览器根据 IP 地址向服务器发送 http 请求")])]),t._v(" "),a("li",[a("p",[t._v("服务器处理 http 请求，返回给浏览器")])])]),t._v(" "),a("p",[t._v("渲染过程")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("根据 HTML 代码生成 DOM Tree")])]),t._v(" "),a("li",[a("p",[t._v("根据 CSS 代码生成 CSSOM")])]),t._v(" "),a("li",[a("p",[t._v("DOM Tree 和 CSSOM 整合成 Render Tree")])]),t._v(" "),a("li",[a("p",[t._v("根据 Render Tree 渲染页面")])]),t._v(" "),a("li",[a("p",[t._v("遇到 script 则暂停渲染，优先加载并执行 js，完成再继续")])]),t._v(" "),a("li",[a("p",[t._v("直到 Render Tree 渲染完成")])])]),t._v(" "),a("p",[t._v("思考")]),t._v(" "),a("p",[t._v("为什么 css 放在 header 中？")]),t._v(" "),a("p",[t._v("为什么 js 放在 body 的最后？")]),t._v(" "),a("p",[t._v("图片加载不会堵塞 dom 渲染")]),t._v(" "),a("p",[t._v("===============================新增=============================")]),t._v(" "),a("p",[t._v("性能优化")]),t._v(" "),a("p",[t._v("手写防抖、节流")]),t._v(" "),a("p",[t._v("原则：多实用内存、缓存或其他方法；减少 cpu 计算量，减少网络加载耗时；空间换时间")]),t._v(" "),a("p",[t._v("如何入手")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("加载快")]),t._v(" "),a("ul",[a("li",[t._v("减少资源体积：压缩代码（gzip，三分之一）")]),t._v(" "),a("li",[t._v("合并代码，减少网络请求")]),t._v(" "),a("li",[t._v("SSR 服务器端渲染")]),t._v(" "),a("li",[t._v("缓存")]),t._v(" "),a("li",[t._v("使用更快的网络：CDN")])])]),t._v(" "),a("li",[a("p",[t._v("渲染快")]),t._v(" "),a("ul",[a("li",[t._v("css 放 head ，js 在 body 下面")]),t._v(" "),a("li",[t._v("尽早开始执行 js，用 DOMContentLoaded 触发")]),t._v(" "),a("li",[t._v("懒加载")]),t._v(" "),a("li",[t._v("对 DOM 查询进行缓存")]),t._v(" "),a("li",[t._v("频繁 DOM 操作，合并到一起插入到 DOM 结构（createDocumentFragment）")]),t._v(" "),a("li",[t._v("节流，防抖（体验优化）")])])])]),t._v(" "),a("p",[t._v("防抖 debounce")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 防抖")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debounce")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// timer 是闭包中的")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("节流 throttle")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 节流")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("throttle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("安全")]),t._v(" "),a("p",[t._v("问题：常见的 web 前端攻击方式有哪些？")]),t._v(" "),a("ul",[a("li",[t._v("XSS 跨站请求攻击")])]),t._v(" "),a("img",{attrs:{src:t.$withBase("/面试/XSS攻击.png")}}),t._v(" "),a("p",[t._v("XSS 预防：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("替换特殊字符，如<变为&lt;>变为 &gt")])]),t._v(" "),a("li",[a("p",[t._v("前后端都做")])]),t._v(" "),a("li",[a("p",[t._v("XSRF 跨站请求伪造")])])]),t._v(" "),a("p",[t._v("带着用户信息")]),t._v(" "),a("p",[t._v("预防")]),t._v(" "),a("ul",[a("li",[t._v("使用 post 接口")]),t._v(" "),a("li",[t._v("增加验证，密码，短信验证码，指纹")])])])}),[],!1,null,null,null);s.default=p.exports}}]);