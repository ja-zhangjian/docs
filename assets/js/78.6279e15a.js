(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{428:function(v,p,_){"use strict";_.r(p);var t=_(25),e=Object(t.a)({},(function(){var v=this,p=v.$createElement,_=v._self._c||p;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"带你了解互联网是怎么运作的"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#带你了解互联网是怎么运作的"}},[v._v("#")]),v._v(" 带你了解互联网是怎么运作的？")]),v._v(" "),_("p",[v._v("你是如何访问到某站点的数据的？")]),v._v(" "),_("p",[v._v("当你的电脑连入互联网之后，你的电脑将会获得一个编号地址，这个地址为 Internet Protocol address,也就是 IP 地址，现在你访问的站点的服务器也接入互联网，它也将分配一个 IP 地址。我们常说访问某某网站，也就是说你在访问某网站的服务器。")]),v._v(" "),_("p",[v._v("你想访问某网站的首页，你的电脑被称为客户端，网站的服务器为服务端。客服端可以在需要时，通过互联网访问服务端。请求消息将会被转化为电子信号，通过电缆发送给服务器，在服务器端再将电子信号转化为计算机可以使用的文本数据。=>Tcp/IP 协议族。")]),v._v(" "),_("p",[v._v("什么是协议？")]),v._v(" "),_("p",[v._v("协议是一组规则，用于指定计算机应如何通过网络来相互通信的。")]),v._v(" "),_("blockquote",[_("p",[v._v("应用层：提供特定于应用程序的协议 HTTP FTP IMAP")])]),v._v(" "),_("blockquote",[_("p",[v._v("传输控制层：发送数据包到计算机上使用特定端口号的应用程序")])]),v._v(" "),_("blockquote",[_("p",[v._v("网络层：使用 IP 地址将数据包发送到特定的计算机")])]),v._v(" "),_("blockquote",[_("p",[v._v("链路层：将二进制数据包与网络信号相互之间转换")])]),v._v(" "),_("p",[v._v("TCP 是一种面向连接的可靠字节流服务协议？重点是面向连接，可靠，因为 tcp 必须先经过三次握手建立连接之后才能交换数据，每个收到的数据包都会向发送方发送 ack 确认，已保证发送成功")]),v._v(" "),_("p",[v._v("IP 是不可靠的无连接协议，他并不关心数据包是否到达了目的地，也不关心连接和端口号，它的工作是发送数据包并将其路由到目标计算机，其中每个数据包都是独立的、互不依赖的，所以有可能会乱序到达目标地址，或者在传输途中丢失。如何保证数据包到达，并且顺序正确呢？这都交给了 TCP，这也就提现了分层的作用，当数据包过大时，在 ip 层会进行分包，由于每个数据包在物理链路层走的物理链路不一样，传输速度也不一样，导致数据包没有按顺序到达目的地，但 tcp 会根据数据包上携带的序列号来进行排序重组，并且发送方在一个特定时间内没有接收到接收方的 ack 确认时，则发送方会重新传送该数据包。")]),v._v(" "),_("p",[v._v("IPV4 采用 32 位地址，4 字节，2 的 32 次方")]),v._v(" "),_("p",[v._v("IPV6 采用 128 地址，2 的 128 次方")]),v._v(" "),_("p",[v._v("数据=>")]),v._v(" "),_("p",[v._v("分割成数据包=>源端口=>目标端口")]),v._v(" "),_("p",[v._v("分割成数据包=>源端口=>目标端口=>源 IP=>目标 IP")]),v._v(" "),_("p",[v._v("链路层将数据包的文本信息转译成电子信号，电缆传输，在电缆的另一端的路由器检查每个数据包中的目标地址，并确定将其发送到何处，最终数据包到达服务器，然后数据包从 tcp/ip 协议族的底部开始向上运行，当数据包向上通过协议族时，客户端添加的所有路由数据，例如 ip 地址和端口号都将从数据包中剥离出来，当数据达到栈顶时，数据包将恢复成最初始的形式，通过端口号可以将数据传递给当前服务器，监听该端口的应用程序，应用程序根据当前请求数据做出反应。")]),v._v(" "),_("p",[v._v("更大的视角来看互联网~~")]),v._v(" "),_("p",[v._v("你的电脑通过调制解调器 modem（猫），猫将计算机的数字信号翻译成可沿普通电话线传送的模拟信号后，在公共电话网络进行传输，公共电话网络通过连接 Internet service provider（互联网服务提供商简称 ISP，三巨头）来接入互联网，数据包经过电话网络和 ISP 后，他们将路由到 isp 的主干网络，数据包通常会从此经过多个\n路由器，并经过多个主干网，直到找到目的地，\n互联网骨干网由许多相互连接的大型网络组成，这些大型网络被称为网络服务提供商，简称 NSP。NSP 是为 ISP 提供网络主干服务的公司，ISP 可以从 NSP 为客户提供网络接入服务，NSP 网络通过网络访问点 NAP 相连来交换数据包流量，每个 NSP 都必须连接至少三个网络访问点，数据包流量可能会通过 NAP，从一个 NSP 的主干跳到另一个 NSP 的主干。以上是简化。")]),v._v(" "),_("p",[v._v("互联网是如何帮助数据包找到一个正确的路线，把数据包送到目的地，在互联网中有个特殊的计算器-路由器，路由器上有个路由表，记录了其子网络的所有 ip 地址，然而他并不知道上层网络所包含的 ip 地址，当数据包到达路由器，路由器检查路由表上是否有目的地的 ip 地址，如果有，则直接发送给那个网络。否则就向上发送数据，在更高的层级去寻找拥有该 ip 的路由器，如果依然没有找到，则再次将数据包向上路由，直到到达 NSP 主干网为止，连接到 NSP 骨干网的路由器拥有最大的路由表，通过这张表可以将数据包路由到正确的骨干网，然后向下传播，进入越来越小的网络，直到找到目的地为止。")]),v._v(" "),_("p",[v._v("Domain Names Service,DNS 是一个分布式数据库，上面记录了域名和其 ip 地址的对应关系，在浏览器中输入网址时，浏览器首先连接 DNS 服务器，获取到该域名的 ip 地址后，浏览器再连接访问该 ip 的服务器.有了 DNS 后，之后服务器 ip 地址有了变化，重新绑定一下域名和新 ip 地址就可以了。")]),v._v(" "),_("p",[_("a",{attrs:{href:"https://space.bilibili.com/5104803/",target:"_blank",rel:"noopener noreferrer"}},[v._v("参考 B 站 objtube 的卢克儿"),_("OutboundLink")],1)])])}),[],!1,null,null,null);p.default=e.exports}}]);