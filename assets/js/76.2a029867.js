(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{445:function(t,v,e){"use strict";e.r(v);var _=e(25),s=Object(_.a)({},(function(){var t=this,v=t.$createElement,e=t._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"js-运行原理二"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#js-运行原理二"}},[t._v("#")]),t._v(" JS 运行原理二")]),t._v(" "),e("p",[t._v("v8 引擎的原理？")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/面试/v8.png")}}),t._v(" "),e("img",{attrs:{src:t.$withBase("/面试/v82.png")}}),t._v(" "),e("p",[t._v("V8 主要负责的工作：编译和执行 JS 代码，处理调用栈，内存的分配，垃圾的回收")]),t._v(" "),e("p",[t._v("重点：编译和执行 JS 代码")]),t._v(" "),e("p",[t._v("17 年 v8 架构调整")]),t._v(" "),e("p",[t._v("js 引擎在编译和执行 js 代码都会用到三个组件")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("解析器，将 js 源代码解析成抽象语法树 AST")])]),t._v(" "),e("li",[e("p",[t._v("解释器，将 AST 解释成字节码 bytecode，同时解释器也有直接解释执行 bytecode 的能力")])]),t._v(" "),e("li",[e("p",[t._v("编译器：负责编译出运行更加高效的机器代码")])])]),t._v(" "),e("p",[t._v("早期 v8 的问题")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("生成大量机器码占内存")])]),t._v(" "),e("li",[e("p",[t._v("缺少中间层机器码，无法实现一些优化策略")])]),t._v(" "),e("li",[e("p",[t._v("无法很好的支持和优化 js 的新语法特性")])])]),t._v(" "),e("p",[t._v("新架构")]),t._v(" "),e("p",[t._v("ast 通过基准解释器（Ignition）生成 bytecode 字节码，ast 被清除，v8 新的引擎 TruboFan 优化编译器")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://space.bilibili.com/5104803/",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考 B 站 objtube 的卢克儿"),e("OutboundLink")],1)])])}),[],!1,null,null,null);v.default=s.exports}}]);