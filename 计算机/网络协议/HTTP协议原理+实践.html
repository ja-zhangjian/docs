<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP协议原理+实践 | 嘉炳的笔记</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/docs/favicon.ico">
    <meta name="description" content="仅做生活学习的记录">
    <meta rel="author" content="Jiabing">
    <meta rel="keywords" content="Jiabing,嘉炳,夹饼,生活,学习，记录,前端">
    <link rel="preload" href="/docs/assets/css/0.styles.00f9c8c7.css" as="style"><link rel="preload" href="/docs/assets/js/app.89439026.js" as="script"><link rel="preload" href="/docs/assets/js/2.a3a8f7c5.js" as="script"><link rel="preload" href="/docs/assets/js/39.b001a02c.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.5e5765ce.js"><link rel="prefetch" href="/docs/assets/js/11.b26ed42c.js"><link rel="prefetch" href="/docs/assets/js/12.8814a90a.js"><link rel="prefetch" href="/docs/assets/js/13.478a751a.js"><link rel="prefetch" href="/docs/assets/js/14.7c6ce0b2.js"><link rel="prefetch" href="/docs/assets/js/15.3d50a897.js"><link rel="prefetch" href="/docs/assets/js/16.c26e83da.js"><link rel="prefetch" href="/docs/assets/js/17.2dd9d11a.js"><link rel="prefetch" href="/docs/assets/js/18.c9c57158.js"><link rel="prefetch" href="/docs/assets/js/19.0a1f39fa.js"><link rel="prefetch" href="/docs/assets/js/20.3ccef31e.js"><link rel="prefetch" href="/docs/assets/js/21.69631242.js"><link rel="prefetch" href="/docs/assets/js/22.4d0986f1.js"><link rel="prefetch" href="/docs/assets/js/23.ef4442d1.js"><link rel="prefetch" href="/docs/assets/js/24.fc9ded7d.js"><link rel="prefetch" href="/docs/assets/js/25.6395a932.js"><link rel="prefetch" href="/docs/assets/js/26.546b003f.js"><link rel="prefetch" href="/docs/assets/js/27.7dc6a9bf.js"><link rel="prefetch" href="/docs/assets/js/28.dc65df87.js"><link rel="prefetch" href="/docs/assets/js/29.73ec1b25.js"><link rel="prefetch" href="/docs/assets/js/3.7adff3f8.js"><link rel="prefetch" href="/docs/assets/js/30.c2b64748.js"><link rel="prefetch" href="/docs/assets/js/31.387d4c22.js"><link rel="prefetch" href="/docs/assets/js/32.d27daec5.js"><link rel="prefetch" href="/docs/assets/js/33.389293f2.js"><link rel="prefetch" href="/docs/assets/js/34.dbd2f7f7.js"><link rel="prefetch" href="/docs/assets/js/35.9aafa96c.js"><link rel="prefetch" href="/docs/assets/js/36.99cfb68f.js"><link rel="prefetch" href="/docs/assets/js/37.3a0e6113.js"><link rel="prefetch" href="/docs/assets/js/38.edc054cf.js"><link rel="prefetch" href="/docs/assets/js/4.beb2d725.js"><link rel="prefetch" href="/docs/assets/js/40.fea25cfe.js"><link rel="prefetch" href="/docs/assets/js/41.ff2d2877.js"><link rel="prefetch" href="/docs/assets/js/42.0a4e0e70.js"><link rel="prefetch" href="/docs/assets/js/43.0ee27d21.js"><link rel="prefetch" href="/docs/assets/js/44.92531431.js"><link rel="prefetch" href="/docs/assets/js/45.bbb58aec.js"><link rel="prefetch" href="/docs/assets/js/46.865a8d02.js"><link rel="prefetch" href="/docs/assets/js/47.ad9936a9.js"><link rel="prefetch" href="/docs/assets/js/48.7253cce3.js"><link rel="prefetch" href="/docs/assets/js/49.32f60f12.js"><link rel="prefetch" href="/docs/assets/js/5.21455a02.js"><link rel="prefetch" href="/docs/assets/js/50.f508cb17.js"><link rel="prefetch" href="/docs/assets/js/51.c747d3cf.js"><link rel="prefetch" href="/docs/assets/js/52.cc83046b.js"><link rel="prefetch" href="/docs/assets/js/53.4267b789.js"><link rel="prefetch" href="/docs/assets/js/54.30e209fe.js"><link rel="prefetch" href="/docs/assets/js/55.02328acd.js"><link rel="prefetch" href="/docs/assets/js/56.e7361bcc.js"><link rel="prefetch" href="/docs/assets/js/57.9db47c3b.js"><link rel="prefetch" href="/docs/assets/js/58.034eb327.js"><link rel="prefetch" href="/docs/assets/js/59.39e8b168.js"><link rel="prefetch" href="/docs/assets/js/6.5661729d.js"><link rel="prefetch" href="/docs/assets/js/60.8f240e29.js"><link rel="prefetch" href="/docs/assets/js/61.1d58dce0.js"><link rel="prefetch" href="/docs/assets/js/62.8bb3e4d8.js"><link rel="prefetch" href="/docs/assets/js/63.3ae893bd.js"><link rel="prefetch" href="/docs/assets/js/64.87e61536.js"><link rel="prefetch" href="/docs/assets/js/65.e5d9e034.js"><link rel="prefetch" href="/docs/assets/js/66.22ae9cc3.js"><link rel="prefetch" href="/docs/assets/js/67.1b192310.js"><link rel="prefetch" href="/docs/assets/js/68.ee037596.js"><link rel="prefetch" href="/docs/assets/js/69.262761b4.js"><link rel="prefetch" href="/docs/assets/js/7.68dc4911.js"><link rel="prefetch" href="/docs/assets/js/70.d41d58c3.js"><link rel="prefetch" href="/docs/assets/js/71.15f9761c.js"><link rel="prefetch" href="/docs/assets/js/72.fdfd4869.js"><link rel="prefetch" href="/docs/assets/js/73.27c4e77f.js"><link rel="prefetch" href="/docs/assets/js/74.d8e4ddd8.js"><link rel="prefetch" href="/docs/assets/js/75.5522f3b8.js"><link rel="prefetch" href="/docs/assets/js/76.2a029867.js"><link rel="prefetch" href="/docs/assets/js/77.b9f6e3b0.js"><link rel="prefetch" href="/docs/assets/js/78.6279e15a.js"><link rel="prefetch" href="/docs/assets/js/79.ffd7ce8d.js"><link rel="prefetch" href="/docs/assets/js/8.becdf3ae.js"><link rel="prefetch" href="/docs/assets/js/80.22c66654.js"><link rel="prefetch" href="/docs/assets/js/81.c275e81d.js"><link rel="prefetch" href="/docs/assets/js/82.9396d3c8.js"><link rel="prefetch" href="/docs/assets/js/83.c5715a22.js"><link rel="prefetch" href="/docs/assets/js/84.b9e59a61.js"><link rel="prefetch" href="/docs/assets/js/85.91de1489.js"><link rel="prefetch" href="/docs/assets/js/86.7136378c.js"><link rel="prefetch" href="/docs/assets/js/87.b7c5d1f9.js"><link rel="prefetch" href="/docs/assets/js/88.b0115e14.js"><link rel="prefetch" href="/docs/assets/js/89.a934e4a3.js"><link rel="prefetch" href="/docs/assets/js/9.912b2518.js"><link rel="prefetch" href="/docs/assets/js/90.b2fd718c.js"><link rel="prefetch" href="/docs/assets/js/91.f945edaf.js"><link rel="prefetch" href="/docs/assets/js/92.75e7185e.js"><link rel="prefetch" href="/docs/assets/js/93.4993c604.js"><link rel="prefetch" href="/docs/assets/js/94.dfe06d0c.js"><link rel="prefetch" href="/docs/assets/js/95.029f76b9.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.00f9c8c7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/assets/img/logo.png" alt="嘉炳的笔记" class="logo"> <span class="site-name can-hide">嘉炳的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/docs/guide.html" class="nav-link">
  先导
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">计算机</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">计算机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/计算机/网络协议/HTTP协议原理+实践.html" class="nav-link">
  网络协议
</a></li><li class="dropdown-item"><!----> <a href="/docs/计算机/数据结构与算法/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/前端/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/后端/Node/" class="nav-link">
  Node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/项目/VueWebpack/" class="nav-link">
  JTodo
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/工具/Markdown/" class="nav-link">
  Markdown
</a></li><li class="dropdown-item"><!----> <a href="/docs/工具/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/docs/工具/git/" class="nav-link">
  git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/about.html" class="nav-link">
  关于我的
</a></li><li class="dropdown-item"><h4>
          面试合集
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/面试/H5C3/" class="nav-link">
  H5C3
</a></li><li class="dropdown-subitem"><a href="/docs/面试/JS/" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/docs/面试/vue/" class="nav-link">
  VUE
</a></li><li class="dropdown-subitem"><a href="/docs/面试/试题合集/" class="nav-link">
  试题合集
</a></li><li class="dropdown-subitem"><a href="/docs/面试/杂项/" class="nav-link">
  杂项
</a></li></ul></li><li class="dropdown-item"><h4>
          文章收藏
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/文章收藏/" class="nav-link">
  文章收藏
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/jiabing-china" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/docs/guide.html" class="nav-link">
  先导
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">计算机</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">计算机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/计算机/网络协议/HTTP协议原理+实践.html" class="nav-link">
  网络协议
</a></li><li class="dropdown-item"><!----> <a href="/docs/计算机/数据结构与算法/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/前端/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/后端/Node/" class="nav-link">
  Node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/项目/VueWebpack/" class="nav-link">
  JTodo
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/工具/Markdown/" class="nav-link">
  Markdown
</a></li><li class="dropdown-item"><!----> <a href="/docs/工具/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/docs/工具/git/" class="nav-link">
  git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/about.html" class="nav-link">
  关于我的
</a></li><li class="dropdown-item"><h4>
          面试合集
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/面试/H5C3/" class="nav-link">
  H5C3
</a></li><li class="dropdown-subitem"><a href="/docs/面试/JS/" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/docs/面试/vue/" class="nav-link">
  VUE
</a></li><li class="dropdown-subitem"><a href="/docs/面试/试题合集/" class="nav-link">
  试题合集
</a></li><li class="dropdown-subitem"><a href="/docs/面试/杂项/" class="nav-link">
  杂项
</a></li></ul></li><li class="dropdown-item"><h4>
          文章收藏
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/文章收藏/" class="nav-link">
  文章收藏
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/jiabing-china" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>网络协议</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html" class="active sidebar-link">HTTP协议原理+实践</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#学习介绍" class="sidebar-link">学习介绍</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#http-协议基础及发展历史" class="sidebar-link">HTTP 协议基础及发展历史</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#_5-层网络模型介绍-参考-osi-七层" class="sidebar-link">5 层网络模型介绍（参考 osi 七层）</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#http-协议发展史" class="sidebar-link">HTTP 协议发展史</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#http-的三次握手" class="sidebar-link">HTTP 的三次握手</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#uri、url-和-urn" class="sidebar-link">URI、URL 和 URN</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#http-报文格式" class="sidebar-link">HTTP 报文格式</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#创建一个简单的-web-服务" class="sidebar-link">创建一个简单的 Web 服务</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#http-各种特性总览" class="sidebar-link">HTTP 各种特性总览</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#http-客户端" class="sidebar-link">HTTP 客户端</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#cors-跨域请求的限制与解决" class="sidebar-link">CORS 跨域请求的限制与解决</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#cors-跨域限制与预请求验证" class="sidebar-link">CORS 跨域限制与预请求验证</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#缓存-cahe-control-的含义和使用" class="sidebar-link">缓存 Cahe-Control 的含义和使用</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#last-modified-和-etag-的使用" class="sidebar-link">Last-Modified 和 Etag 的使用</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#cookie-和-session" class="sidebar-link">cookie 和 session</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#http-长连接" class="sidebar-link">HTTP 长连接</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#数据协商" class="sidebar-link">数据协商</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#redirect" class="sidebar-link">Redirect</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#csp" class="sidebar-link">CSP</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#nginx-代理以及面向未来的-http" class="sidebar-link">Nginx 代理以及面向未来的 HTTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#nginx-的安装和基础代理配置" class="sidebar-link">Nginx 的安装和基础代理配置</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#nginx-代理配置和代理缓存的用处" class="sidebar-link">Nginx 代理配置和代理缓存的用处</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#https-解析" class="sidebar-link">HTTPS 解析</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#使用-nginx-部署-https-服务" class="sidebar-link">使用 Nginx 部署 HTTPS 服务</a></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#http2-的优势和配置-http2-的简单使用" class="sidebar-link">HTTP2 的优势和配置 HTTP2 的简单使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/计算机/网络协议/HTTP协议原理+实践.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/" aria-current="page" class="sidebar-link">网络协议</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http-协议原理-实践"><a href="#http-协议原理-实践" class="header-anchor">#</a> HTTP 协议原理+实践</h1> <h2 id="学习介绍"><a href="#学习介绍" class="header-anchor">#</a> 学习介绍</h2> <p>学习 http 的重要性，学习的必要性</p> <ol><li><p>web 开发不理解，但是很重要，也能提高自身价值</p></li> <li><p>例子: 输入 url 打开网页 、ajax 获取数据、 img 标签加载图片</p></li> <li><p>cache-control</p></li> <li><p>缓存验证（提高性能）</p></li> <li><p>更多有意义的头</p></li> <li><p>TCP</p></li> <li><p>跳转=&gt;缓存=&gt;DNS=&gt;TCP 连接=&gt;Request=&gt;Response</p></li></ol> <h2 id="http-协议基础及发展历史"><a href="#http-协议基础及发展历史" class="header-anchor">#</a> HTTP 协议基础及发展历史</h2> <h3 id="_5-层网络模型介绍-参考-osi-七层"><a href="#_5-层网络模型介绍-参考-osi-七层" class="header-anchor">#</a> 5 层网络模型介绍（参考 osi 七层）</h3> <p>经典五层【物链网传（会表）应】</p> <p>物理层：定义物理设备如何传输数据（硬件，光缆，网线等）</p> <p>数据链路层：在通信实体之间建立数据链路连接（0, 1）</p> <p>网络层：为数据在结点之间传输创建逻辑链路</p> <p>传输层：</p> <ul><li>TCP/IP、UDP</li> <li>为用户提供端到端的服务</li> <li>向高层屏蔽了下层数据通信的细节</li></ul> <p>应用层：</p> <ul><li>为应用软件提供了很多服务</li> <li>构建于 TCP 协议之上</li> <li>屏蔽了网络传输相关细节</li></ul> <h3 id="http-协议发展史"><a href="#http-协议发展史" class="header-anchor">#</a> HTTP 协议发展史</h3> <ol><li><p>HTTP0.9: 只有一个 get 命令，没有 HEARER 等描述数据的信息，单次连接，服务器发送完毕，就关闭 TCP 连接</p></li> <li><p>HTPP1.0: 增加很多命令，增加 status code 和 header，多字符集的支持、多部分发送、权限、缓存等</p></li> <li><p>HTPP1.1: 持久连接，pipeline（同一个连接，发送多个请求，但是服务端是按照顺序处理连接，串行与并行差异），增加 host（同一个物理服务器跑不同的软件）和其他一些命令</p></li> <li><p>HTTP2: 所以数据以二进制（帧）传输，同一个连接里面发送多个请求，不在需要按照顺序来处理，头信息压缩以及推送等提高效率的功能。（解决 HTTP1.1 效率低的问题，服务端可以主动发起数据传输，在请求 html 的同时，服务端推送 css，js 到客服端，并行，提高效率）</p></li></ol> <h3 id="http-的三次握手"><a href="#http-的三次握手" class="header-anchor">#</a> HTTP 的三次握手</h3> <p>客服端发送：(标志位)SYN=1，Seq =X</p> <p>服务端返回：SYN = 1, ACK = X+1, Seq = Y</p> <p>客户端发送：ACK = Y+1, Seq=Z</p> <p>由于网络的延迟或者丢失，需要第三次连接来确保连接成功，同时避免服务端开启无用端口资源</p> <h3 id="uri、url-和-urn"><a href="#uri、url-和-urn" class="header-anchor">#</a> URI、URL 和 URN</h3> <p>URI=URL+URN</p> <ul><li>统一资源标志符，标识互联网上的信息资源</li></ul> <p>URL</p> <ul><li>统一资源定位器</li> <li>http://user:pass@host.com:80/path?query=string#hash</li></ul> <p>URN</p> <ul><li>永久统一资源定位符，在资源移动之后还能被找到，现没有成熟的方案</li></ul> <h3 id="http-报文格式"><a href="#http-报文格式" class="header-anchor">#</a> HTTP 报文格式</h3> <p>定义只是规定、规范，没有强约束，但是具体的操作由操作者选择</p> <ul><li>请求报文：</li></ul> <p>行（请求方法，url，协议版本）</p> <p>头（传输数据的内容，想要接受数据的内容，格式）</p> <ul><li>响应报文：</li></ul> <p>行（请求方法，code，明文的方式表达 code 的含义）</p> <p>头 （传输数据的内容，返回数据的内容，格式）</p> <p>空行</p> <p>体（返回内容）</p> <p>===========</p> <p>HTTP 方法：定义对于资源的操作</p> <p>HTTP CODE：服务器对请求的处理结果</p> <p>===========</p> <h3 id="创建一个简单的-web-服务"><a href="#创建一个简单的-web-服务" class="header-anchor">#</a> 创建一个简单的 Web 服务</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//node自带模块,我傻了，这个自动格式化，服了</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
http
    <span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> html <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">&quot;test.html&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;utf8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Content-Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text/html&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;监听服务8888&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="http-各种特性总览"><a href="#http-各种特性总览" class="header-anchor">#</a> HTTP 各种特性总览</h2> <h3 id="http-客户端"><a href="#http-客户端" class="header-anchor">#</a> HTTP 客户端</h3> <p>浏览器、curl 等等发送 http-content 的工具，不要单纯认为 HTTP 客户端只是浏览器，curl 是 git bash 自带的。</p> <h3 id="cors-跨域请求的限制与解决"><a href="#cors-跨域请求的限制与解决" class="header-anchor">#</a> CORS 跨域请求的限制与解决</h3> <p>1.jsonP</p> <p>原理：浏览器允许 link、img、script 标签在标签上写（src，href）路径加载内容，和 CDN 引入一个意思</p> <ol start="2"><li>Access-Control-Allow-Origin</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>不管有没有这个返回头，浏览器都是会发送请求，浏览器不知道服务器是否接受跨域，内容也是返回回来了，只不过浏览器在解析内容时没有发现这个是不允许的时候，就会自己忽略，好像是 1995 年网景公司引入的同源策略。</p> <p>设置了*，表示 任何服务都能访问</p> <p>可以设置某一个特定的域名（浏览器是不认识映射关系的，比如 127.0.0.1 与 localhost），代码逻辑判断多个域名是否允许跨域</p> <h3 id="cors-跨域限制与预请求验证"><a href="#cors-跨域限制与预请求验证" class="header-anchor">#</a> CORS 跨域限制与预请求验证</h3> <p>CORS 预请求</p> <p>允许方法：只允许 GET\HEAD\POST</p> <p>允许 content-type： text/plain multipart/from-data application/x-www-form-urlencoded</p> <p>其他限制：请求头限制</p> <p>什么是预请求？</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Access-Control-Allow-Headers&quot;</span><span class="token operator">:</span> <span class="token string">&quot;自定义的请求头&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>浏览器通过 option 获取请求，允许接下来的请求操作</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Access-Control-Allow-Headers&quot;</span><span class="token operator">:</span> <span class="token string">&quot;自定义的请求头&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Access-Control-Max-Age&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的请求，1000 秒的时间范围内，不需要再次发送预请求</p> <h3 id="缓存-cahe-control-的含义和使用"><a href="#缓存-cahe-control-的含义和使用" class="header-anchor">#</a> 缓存 Cahe-Control 的含义和使用</h3> <p>可缓存性：</p> <ul><li>public：代表，返回的时候，任何代理，浏览器都可以执行缓存操作</li> <li>private: 代表，发起请求的浏览器才可以缓存</li> <li>no-cache: 使用缓存前先验证</li></ul> <p>到期：</p> <ul><li>max-age = &lt;seconds&gt;</li> <li>s-maxage = &lt;seconds&gt; 专门为代理服务器设置</li> <li>max-stale = &lt;seconds&gt;发起请求带的头，只要在这个时间内，可以允许读取过期缓存</li></ul> <p>重新验证：</p> <ul><li>must-revalidate 浏览器过期的时候，必须重新获取</li> <li>proxy-revalidate 代理服务器过期的时候，必须重新获取</li></ul> <p>其他：</p> <ul><li>no-store 彻底的，永远都要获取新的缓存</li> <li>no-transform 代理服务器不允许改动</li></ul> <p>这些都是规范，完全可以不按照规范去做, 但是会出问题
cache-control 属于客户端缓存，只要 url 地址不变。
打包资源的时候，hash 根据资源的内容变化，生成新的 hash 码，来刷新缓存。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;Content-Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Cache-Control&quot;</span><span class="token operator">:</span> <span class="token string">&quot;max-age=一年的时间,public&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="last-modified-和-etag-的使用"><a href="#last-modified-和-etag-的使用" class="header-anchor">#</a> Last-Modified 和 Etag 的使用</h3> <ul><li>Last-Modified 上次修改时间</li></ul> <p>if-modified-since/in-unmodified-since</p> <p>对比上次修改时间来验证资源是否需要更新</p> <ul><li>Etag 数据签名</li></ul> <p>IF_MATCH/if-non-match</p> <p>对比资源的签名来判断是否使用缓存</p> <h3 id="cookie-和-session"><a href="#cookie-和-session" class="header-anchor">#</a> cookie 和 session</h3> <ul><li>cookie</li></ul> <p>Set-Cookie 设置</p> <p>下次请求自动带上，键值对，可以设置很多个</p> <p>max-age 和 expires 设置过期时间、Secure 只在 https 的时候发送、HttpOnly 无法通过 document.cookie 访问，阻止 js 通过 cookie 访问，保证数据安全</p> <p>domain 可以设置主域名下，子域名都访问时都带上 cookie</p> <p>使用 cookie 来保存 session，把用户登录的 key 设置到 cookie 里面。拿着 sessionID 对着服务的数据查找用户的数据（不会这么做了，1 服务器压力大，2 服务器需要大量存储用户数据，3 不安全，用户的 id 也是用户数据，存储在客服端不太好</p> <p>session 只要我没保证能够定位到用户，就算是 session 的实现方法</p> <h3 id="http-长连接"><a href="#http-长连接" class="header-anchor">#</a> HTTP 长连接</h3> <p>1.1 里面的</p> <p>谷歌浏览器一次性并发 6 个</p> <p>connection：keeplive/close</p> <p>http 请求是在 tcp 连接上面进行发送的，一个 tcp 连接可以发送多 http 请求，1.1 里面有先后顺序，所以要并发发送请求。</p> <h3 id="数据协商"><a href="#数据协商" class="header-anchor">#</a> 数据协商</h3> <p>客户端协商</p> <p>Accept 指定我想要的数据类型</p> <p>Accept-Ecoding 代表数据以什么编码方式来进行传输，数据压缩</p> <p>Accept-Language</p> <p>User-Agent 根据这个返回是浏览器页面，还是移动端的页面，适配不同浏览器</p> <p>服务端协商</p> <p>Cntent-Type 返回数据的数据格式</p> <p>Cntent-Ecoding</p> <p>Cntent-Language</p> <h3 id="redirect"><a href="#redirect" class="header-anchor">#</a> Redirect</h3> <p>请求时，发现资源不在了</p> <p>301 永久重定向，就不用在问服务器了，直接跳转，从缓存里面读取，就算服务器改了地址，如果客户端自己不清缓存，那就完蛋，这个应该不常用。</p> <p>302 临时重定向，还是要问一下服务器</p> <h3 id="csp"><a href="#csp" class="header-anchor">#</a> CSP</h3> <p>Content-Security-Policy(内容安全策略）</p> <p>限制资源的获取</p> <p>default-src 全局限制、指定资源类型来限制</p> <p>报告资源获取越权</p> <h2 id="nginx-代理以及面向未来的-http"><a href="#nginx-代理以及面向未来的-http" class="header-anchor">#</a> Nginx 代理以及面向未来的 HTTP</h2> <h3 id="nginx-的安装和基础代理配置"><a href="#nginx-的安装和基础代理配置" class="header-anchor">#</a> Nginx 的安装和基础代理配置</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>server <span class="token punctuation">{</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    server_name 地址；
    location <span class="token operator">/</span> <span class="token punctuation">{</span>
        proxy_pass http<span class="token operator">:</span> <span class="token comment">//127.0.0.1:8888;</span>
            proxy_set_header <span class="token constant">HOST</span> $host <span class="token comment">//修改代理的http头</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="nginx-代理配置和代理缓存的用处"><a href="#nginx-代理配置和代理缓存的用处" class="header-anchor">#</a> Nginx 代理配置和代理缓存的用处</h3> <p>proxy_cache_path 地址 level=1:2 keyz_zone=名字:10m</p> <p>proxy_cache 名字</p> <p>速度快，在代理设置，如果代理缓存设置过了，可以读代理缓存</p> <p>s-maxage 代理缓存的时间</p> <p>private 只有浏览器才能缓存</p> <p>no-store，所有的都不能缓存</p> <p>Vary 用来只能 http 的头的值相同时，再使用缓存，这个头会存在服务端那边</p> <h3 id="https-解析"><a href="#https-解析" class="header-anchor">#</a> HTTPS 解析</h3> <p>HTTP 不安全，明文传输</p> <p>HTTPS 加密 私钥，公钥</p> <img src="/docs/计算机/网络协议/https.png"> <h3 id="使用-nginx-部署-https-服务"><a href="#使用-nginx-部署-https-服务" class="header-anchor">#</a> 使用 Nginx 部署 HTTPS 服务</h3> <p>需要生成公钥，私钥</p> <p>默认端口 443</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ssl on
ssl_certificate_key
ssl_certificate
</code></pre></div><p>浏览器需要安全证书，来证明 url 是安全的</p> <h3 id="http2-的优势和配置-http2-的简单使用"><a href="#http2-的优势和配置-http2-的简单使用" class="header-anchor">#</a> HTTP2 的优势和配置 HTTP2 的简单使用</h3> <p>HTTPS 的优势</p> <p>信道复用、分帧传输、Server Push</p> <p>Link; 这个请求，服务端可以推送内容（不安全的证书，不接受推送）</p> <p>Nginx 可以兼容 1.1 和 2，代理服务器可以转化协议给服务器</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>HTTP 原理=》tcp 连接上面传输（三次，四次），长连接，性能提升</p> <p>HTTP 技术点=》缓存，验证缓存，csp，cors</p> <p>Nginx 实践、面向未来的 HTTP=》Nginx 好处，HTTP2 的安全，性能提升</p> <img src="/docs/计算机/网络协议/tcp.png"> <p>后记：知道就行了，感觉要深入得实操。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/docs/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/" class="router-link-active">
        网络协议
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.89439026.js" defer></script><script src="/docs/assets/js/2.a3a8f7c5.js" defer></script><script src="/docs/assets/js/39.b001a02c.js" defer></script>
  </body>
</html>
