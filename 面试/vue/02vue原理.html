<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue原理 | 嘉炳的笔记</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/docs/favicon.ico">
    <meta name="description" content="仅做生活学习的记录">
    <meta rel="author" content="Jiabing">
    <meta rel="keywords" content="Jiabing,嘉炳,夹饼,生活,学习，记录,前端">
    <link rel="preload" href="/docs/assets/css/0.styles.00f9c8c7.css" as="style"><link rel="preload" href="/docs/assets/js/app.89439026.js" as="script"><link rel="preload" href="/docs/assets/js/2.a3a8f7c5.js" as="script"><link rel="preload" href="/docs/assets/js/48.7253cce3.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.5e5765ce.js"><link rel="prefetch" href="/docs/assets/js/11.b26ed42c.js"><link rel="prefetch" href="/docs/assets/js/12.8814a90a.js"><link rel="prefetch" href="/docs/assets/js/13.478a751a.js"><link rel="prefetch" href="/docs/assets/js/14.7c6ce0b2.js"><link rel="prefetch" href="/docs/assets/js/15.3d50a897.js"><link rel="prefetch" href="/docs/assets/js/16.c26e83da.js"><link rel="prefetch" href="/docs/assets/js/17.2dd9d11a.js"><link rel="prefetch" href="/docs/assets/js/18.c9c57158.js"><link rel="prefetch" href="/docs/assets/js/19.0a1f39fa.js"><link rel="prefetch" href="/docs/assets/js/20.3ccef31e.js"><link rel="prefetch" href="/docs/assets/js/21.69631242.js"><link rel="prefetch" href="/docs/assets/js/22.4d0986f1.js"><link rel="prefetch" href="/docs/assets/js/23.ef4442d1.js"><link rel="prefetch" href="/docs/assets/js/24.fc9ded7d.js"><link rel="prefetch" href="/docs/assets/js/25.6395a932.js"><link rel="prefetch" href="/docs/assets/js/26.546b003f.js"><link rel="prefetch" href="/docs/assets/js/27.7dc6a9bf.js"><link rel="prefetch" href="/docs/assets/js/28.dc65df87.js"><link rel="prefetch" href="/docs/assets/js/29.73ec1b25.js"><link rel="prefetch" href="/docs/assets/js/3.7adff3f8.js"><link rel="prefetch" href="/docs/assets/js/30.c2b64748.js"><link rel="prefetch" href="/docs/assets/js/31.387d4c22.js"><link rel="prefetch" href="/docs/assets/js/32.d27daec5.js"><link rel="prefetch" href="/docs/assets/js/33.389293f2.js"><link rel="prefetch" href="/docs/assets/js/34.dbd2f7f7.js"><link rel="prefetch" href="/docs/assets/js/35.9aafa96c.js"><link rel="prefetch" href="/docs/assets/js/36.99cfb68f.js"><link rel="prefetch" href="/docs/assets/js/37.3a0e6113.js"><link rel="prefetch" href="/docs/assets/js/38.edc054cf.js"><link rel="prefetch" href="/docs/assets/js/39.b001a02c.js"><link rel="prefetch" href="/docs/assets/js/4.beb2d725.js"><link rel="prefetch" href="/docs/assets/js/40.fea25cfe.js"><link rel="prefetch" href="/docs/assets/js/41.ff2d2877.js"><link rel="prefetch" href="/docs/assets/js/42.0a4e0e70.js"><link rel="prefetch" href="/docs/assets/js/43.0ee27d21.js"><link rel="prefetch" href="/docs/assets/js/44.92531431.js"><link rel="prefetch" href="/docs/assets/js/45.bbb58aec.js"><link rel="prefetch" href="/docs/assets/js/46.865a8d02.js"><link rel="prefetch" href="/docs/assets/js/47.ad9936a9.js"><link rel="prefetch" href="/docs/assets/js/49.32f60f12.js"><link rel="prefetch" href="/docs/assets/js/5.21455a02.js"><link rel="prefetch" href="/docs/assets/js/50.f508cb17.js"><link rel="prefetch" href="/docs/assets/js/51.c747d3cf.js"><link rel="prefetch" href="/docs/assets/js/52.cc83046b.js"><link rel="prefetch" href="/docs/assets/js/53.4267b789.js"><link rel="prefetch" href="/docs/assets/js/54.30e209fe.js"><link rel="prefetch" href="/docs/assets/js/55.02328acd.js"><link rel="prefetch" href="/docs/assets/js/56.e7361bcc.js"><link rel="prefetch" href="/docs/assets/js/57.9db47c3b.js"><link rel="prefetch" href="/docs/assets/js/58.034eb327.js"><link rel="prefetch" href="/docs/assets/js/59.39e8b168.js"><link rel="prefetch" href="/docs/assets/js/6.5661729d.js"><link rel="prefetch" href="/docs/assets/js/60.8f240e29.js"><link rel="prefetch" href="/docs/assets/js/61.1d58dce0.js"><link rel="prefetch" href="/docs/assets/js/62.8bb3e4d8.js"><link rel="prefetch" href="/docs/assets/js/63.3ae893bd.js"><link rel="prefetch" href="/docs/assets/js/64.87e61536.js"><link rel="prefetch" href="/docs/assets/js/65.e5d9e034.js"><link rel="prefetch" href="/docs/assets/js/66.22ae9cc3.js"><link rel="prefetch" href="/docs/assets/js/67.1b192310.js"><link rel="prefetch" href="/docs/assets/js/68.ee037596.js"><link rel="prefetch" href="/docs/assets/js/69.262761b4.js"><link rel="prefetch" href="/docs/assets/js/7.68dc4911.js"><link rel="prefetch" href="/docs/assets/js/70.d41d58c3.js"><link rel="prefetch" href="/docs/assets/js/71.15f9761c.js"><link rel="prefetch" href="/docs/assets/js/72.fdfd4869.js"><link rel="prefetch" href="/docs/assets/js/73.27c4e77f.js"><link rel="prefetch" href="/docs/assets/js/74.d8e4ddd8.js"><link rel="prefetch" href="/docs/assets/js/75.5522f3b8.js"><link rel="prefetch" href="/docs/assets/js/76.2a029867.js"><link rel="prefetch" href="/docs/assets/js/77.b9f6e3b0.js"><link rel="prefetch" href="/docs/assets/js/78.6279e15a.js"><link rel="prefetch" href="/docs/assets/js/79.ffd7ce8d.js"><link rel="prefetch" href="/docs/assets/js/8.becdf3ae.js"><link rel="prefetch" href="/docs/assets/js/80.22c66654.js"><link rel="prefetch" href="/docs/assets/js/81.c275e81d.js"><link rel="prefetch" href="/docs/assets/js/82.9396d3c8.js"><link rel="prefetch" href="/docs/assets/js/83.c5715a22.js"><link rel="prefetch" href="/docs/assets/js/84.b9e59a61.js"><link rel="prefetch" href="/docs/assets/js/85.91de1489.js"><link rel="prefetch" href="/docs/assets/js/86.7136378c.js"><link rel="prefetch" href="/docs/assets/js/87.b7c5d1f9.js"><link rel="prefetch" href="/docs/assets/js/88.b0115e14.js"><link rel="prefetch" href="/docs/assets/js/89.a934e4a3.js"><link rel="prefetch" href="/docs/assets/js/9.912b2518.js"><link rel="prefetch" href="/docs/assets/js/90.b2fd718c.js"><link rel="prefetch" href="/docs/assets/js/91.f945edaf.js"><link rel="prefetch" href="/docs/assets/js/92.75e7185e.js"><link rel="prefetch" href="/docs/assets/js/93.4993c604.js"><link rel="prefetch" href="/docs/assets/js/94.dfe06d0c.js"><link rel="prefetch" href="/docs/assets/js/95.029f76b9.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.00f9c8c7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/assets/img/logo.png" alt="嘉炳的笔记" class="logo"> <span class="site-name can-hide">嘉炳的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/docs/guide.html" class="nav-link">
  先导
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">计算机</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">计算机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/计算机/网络协议/HTTP协议原理+实践.html" class="nav-link">
  网络协议
</a></li><li class="dropdown-item"><!----> <a href="/docs/计算机/数据结构与算法/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/前端/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/后端/Node/" class="nav-link">
  Node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/项目/VueWebpack/" class="nav-link">
  JTodo
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/工具/Markdown/" class="nav-link">
  Markdown
</a></li><li class="dropdown-item"><!----> <a href="/docs/工具/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/docs/工具/git/" class="nav-link">
  git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/about.html" class="nav-link">
  关于我的
</a></li><li class="dropdown-item"><h4>
          面试合集
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/面试/H5C3/" class="nav-link">
  H5C3
</a></li><li class="dropdown-subitem"><a href="/docs/面试/JS/" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/docs/面试/vue/" class="nav-link">
  VUE
</a></li><li class="dropdown-subitem"><a href="/docs/面试/试题合集/" class="nav-link">
  试题合集
</a></li><li class="dropdown-subitem"><a href="/docs/面试/杂项/" class="nav-link">
  杂项
</a></li></ul></li><li class="dropdown-item"><h4>
          文章收藏
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/文章收藏/" class="nav-link">
  文章收藏
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/jiabing-china" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/docs/guide.html" class="nav-link">
  先导
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">计算机</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">计算机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/计算机/网络协议/HTTP协议原理+实践.html" class="nav-link">
  网络协议
</a></li><li class="dropdown-item"><!----> <a href="/docs/计算机/数据结构与算法/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/前端/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/后端/Node/" class="nav-link">
  Node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/项目/VueWebpack/" class="nav-link">
  JTodo
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/工具/Markdown/" class="nav-link">
  Markdown
</a></li><li class="dropdown-item"><!----> <a href="/docs/工具/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/docs/工具/git/" class="nav-link">
  git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/about.html" class="nav-link">
  关于我的
</a></li><li class="dropdown-item"><h4>
          面试合集
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/面试/H5C3/" class="nav-link">
  H5C3
</a></li><li class="dropdown-subitem"><a href="/docs/面试/JS/" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/docs/面试/vue/" class="nav-link">
  VUE
</a></li><li class="dropdown-subitem"><a href="/docs/面试/试题合集/" class="nav-link">
  试题合集
</a></li><li class="dropdown-subitem"><a href="/docs/面试/杂项/" class="nav-link">
  杂项
</a></li></ul></li><li class="dropdown-item"><h4>
          文章收藏
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/文章收藏/" class="nav-link">
  文章收藏
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/jiabing-china" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/面试/vue/01vue使用.html" class="sidebar-link">vue使用</a></li><li><a href="/docs/面试/vue/02vue原理.html" class="active sidebar-link">vue原理</a></li><li><a href="/docs/面试/vue/03vue面试真题演练.html" class="sidebar-link">vue面试真题演练</a></li><li><a href="/docs/面试/vue/04Vue3预学习.html" class="sidebar-link">vue3预学习</a></li><li><a href="/docs/%E9%9D%A2%E8%AF%95/vue/" aria-current="page" class="sidebar-link">VUE 的面试相关</a></li><li><a href="/docs/面试/vue/收集一.html" class="sidebar-link">收集一 vue</a></li><li><a href="/docs/面试/vue/收集三.html" class="sidebar-link">收集三 vue面试题源码问题</a></li><li><a href="/docs/面试/vue/收集二.html" class="sidebar-link">收集二 vue组件</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-原理"><a href="#vue-原理" class="header-anchor">#</a> vue 原理</h1> <h2 id="vue-原理-大厂必考试看"><a href="#vue-原理-大厂必考试看" class="header-anchor">#</a> vue 原理-大厂必考试看</h2> <ul><li><p>为何考？</p></li> <li><p>如何考，什么方式？</p> <ul><li>考察重点，不考细节</li> <li>和使用相关的原理，例如 vdom、模板渲染</li> <li>整体流程是否全面？热门技术是否有深度？</li></ul></li> <li><p>vue 原理包括哪些</p> <ul><li>组件化</li> <li>响应式</li> <li>vdom 和 diff</li> <li>模板编译</li> <li>渲染过程</li> <li>前端路由</li></ul></li></ul> <h2 id="如何理解-mvvm"><a href="#如何理解-mvvm" class="header-anchor">#</a> 如何理解 MVVM</h2> <p>组件化基础</p> <ul><li><p>以前的组件化</p></li> <li><p>数据驱动视图（MVVM，setState）</p> <ul><li>传统组件，只是静态渲染，更新还是依赖操作 DOM</li> <li>vue MVVM</li> <li>React setState</li></ul></li></ul> <p>MVVM=model+view+viewmodel</p> <h2 id="监听-data-变化的核心-api-是什么"><a href="#监听-data-变化的核心-api-是什么" class="header-anchor">#</a> 监听 data 变化的核心 API 是什么</h2> <p>vue 响应式</p> <ul><li><p>组件 data 的数据一旦变化，立刻触发视图的更新</p></li> <li><p>实现数据驱动视图的第一步</p></li> <li><p>核心 API-Object.defineProperty</p></li> <li><p>Object.defineProperty 的一些缺点（vue3.0 启动 proxy）</p></li> <li><p>proxy 有兼容性问题，且无法 polyfill</p></li></ul> <img src="/docs/面试/objectdefineproperty.png"> <h2 id="如何深度监听-data-变化"><a href="#如何深度监听-data-变化" class="header-anchor">#</a> 如何深度监听 data 变化</h2> <h2 id="vue-如何监听数组变化"><a href="#vue-如何监听数组变化" class="header-anchor">#</a> vue 如何监听数组变化</h2> <p>（深层次的递归，数组的，需要自己创建数据原型来监听，不然会全局污染）</p> <ul><li><p>深度监听，需要递归到底，一次性计算量大（按需监听？？？）</p></li> <li><p>新增删除属性，监听不到（要用 vue.set 和 vue.delete）</p></li> <li><p>无法原生监听数组，需要特殊处理。</p></li></ul> <h2 id="虚拟-dom-面试里的网红"><a href="#虚拟-dom-面试里的网红" class="header-anchor">#</a> 虚拟 DOM-面试里的网红</h2> <ul><li><p>vdom 是实现 vue 的重要基石</p></li> <li><p>diff 算法是 vdom 的核心和关键部分</p></li> <li><p>vdom 用 js 模拟 dom 结构，计算出最小的变更，操作 dom</p></li></ul> <img src="/docs/面试/jsdom.png"> <p>标签/属性、样式、事件/子元素</p> <p>snabbdom 学习 vdom</p> <h2 id="用过虚拟-dom-吗"><a href="#用过虚拟-dom-吗" class="header-anchor">#</a> 用过虚拟 DOM 吗</h2> <h2 id="虚拟-dom-diff-算法概述"><a href="#虚拟-dom-diff-算法概述" class="header-anchor">#</a> 虚拟 DOM-diff 算法概述</h2> <p>树的 diff 时间复杂度 O（n^3）,算法不可用</p> <p>优化时间复杂度 O（n）</p> <ul><li><p>只比较同一级，不跨级比较</p></li> <li><p>tag 不相同，删除，不再深度比较</p></li> <li><p>tag 和 key，两者相同，则认为是相同节点，不再比较</p></li></ul> <p>适合 web 网页的开发</p> <h2 id="深入-diff-算法源码-生成-vnode"><a href="#深入-diff-算法源码-生成-vnode" class="header-anchor">#</a> 深入 diff 算法源码-生成 vnode</h2> <p>snabbdom 源码</p> <p>h 函数 返回一个 vnode 结构的对象</p> <p>patch</p> <h2 id="深入-diff-算法源码-patch-函数"><a href="#深入-diff-算法源码-patch-函数" class="header-anchor">#</a> 深入 diff 算法源码-patch 函数</h2> <p>相同的 key 和 sel（元素），patchVnode</p> <p>都不传 key，则 key 相同</p> <h2 id="深入-diff-算法源码-patchvnode-函数"><a href="#深入-diff-算法源码-patchvnode-函数" class="header-anchor">#</a> 深入 diff 算法源码-patchVnode 函数</h2> <p>新旧 vnode 对比，text 和 children 的逻辑判断</p> <ul><li>updatechildren，新旧都有</li> <li>addvnodes，新有旧无</li> <li>removevnode，旧有新无</li> <li>旧的有直接删除</li></ul> <h2 id="深入-diff-算法源码-updatechildren-函数"><a href="#深入-diff-算法源码-updatechildren-函数" class="header-anchor">#</a> 深入 diff 算法源码-updateChildren 函数</h2> <p>old/newchildren 的对比</p> <h2 id="虚拟-dom-考点总结和复习"><a href="#虚拟-dom-考点总结和复习" class="header-anchor">#</a> 虚拟 DOM-考点总结和复习</h2> <ul><li><p>patchvnode</p></li> <li><p>addremovevnodes</p></li> <li><p>updatechildren（key 的重要性）</p></li> <li><p>vdom 核心概念：h、vnode、patch、diff、key</p></li> <li><p>vdom 存在的价值：数据驱动视图，控制 dom 的操作</p></li></ul> <h2 id="模板编译前置知识点-with-语法"><a href="#模板编译前置知识点-with-语法" class="header-anchor">#</a> 模板编译前置知识点-with 语法</h2> <ul><li>前置只是，js 的 with 语法</li></ul> <img src="/docs/面试/with.png"> <p>慎用，打破了作用域规则，易读性变差</p> <ul><li><p>vue template complier 将模板编译为 render 函数</p></li> <li><p>执行 render 函数生成 vnode</p></li></ul> <h2 id="vue-模板被编译成什么"><a href="#vue-模板被编译成什么" class="header-anchor">#</a> vue 模板被编译成什么</h2> <img src="/docs/面试/模板编译.png"> <p>createElement 就是 h 函数</p> <p>v-model 模板编译的时候，声明一个变量，显示的也是这个变量，同时绑定监听事件，当值变化，就修改这个变量，达到数据的双向绑定。</p> <img src="/docs/面试/模板编译2.png"> <h2 id="vue-组件可用-render-代替-template"><a href="#vue-组件可用-render-代替-template" class="header-anchor">#</a> vue 组件可用 render 代替 template</h2> <img src="/docs/面试/render代替template.png"> <p>总结</p> <ul><li><p>with 语法</p></li> <li><p>模板到 render 函数，再到 vnode，再到渲染和更新</p></li> <li><p>vue 组件可用 render 代替 template</p></li></ul> <h2 id="回顾和复习已学的知识点"><a href="#回顾和复习已学的知识点" class="header-anchor">#</a> 回顾和复习已学的知识点</h2> <p>组件渲染/更新过程</p> <ul><li><p>初次渲染</p></li> <li><p>更新过程</p></li> <li><p>异步渲染</p></li></ul> <img src="/docs/面试/模板编译回顾.png"> <h2 id="vue-组件是如何渲染和更新的"><a href="#vue-组件是如何渲染和更新的" class="header-anchor">#</a> vue 组件是如何渲染和更新的</h2> <img src="/docs/面试/初次渲染过程.png"> <img src="/docs/面试/render触发getter.png"> <img src="/docs/面试/模板更新.png"> <p>新旧 vnode 的差异由 diff 算法来处理</p> <img src="/docs/面试/模板完整流程图.png"> <p>touch 触发</p> <p>collect asdependency 收集依赖</p> <h2 id="vue-组件是异步渲染的"><a href="#vue-组件是异步渲染的" class="header-anchor">#</a> vue 组件是异步渲染的</h2> <ul><li>回顾$nextTick</li> <li>汇总 data 的修改，一次性更新视图</li> <li>减少 dom 操作次数，提高性能</li></ul> <p>总结</p> <ul><li><p>渲染和响应式的关系</p></li> <li><p>渲染和模板编译的关系</p></li> <li><p>渲染和 vdom 的关系</p></li> <li><p>初次渲染的过程</p></li> <li><p>更新过程</p></li> <li><p>异步渲染</p></li></ul> <h2 id="如何用-js-实现-hash-路由"><a href="#如何用-js-实现-hash-路由" class="header-anchor">#</a> 如何用 JS 实现 hash 路由</h2> <p>hash 变化会触发网页跳转，即浏览器的前进后退</p> <p>不会刷新页面，spa 必需的特点</p> <p>永远不会提交到 server 端</p> <p>js 修改 url， 手动修改 url 的 hash，前进后退</p> <ul><li>hash=&gt;windown.onhashchange</li></ul> <h2 id="如何用-js-实现-h5-history-路由"><a href="#如何用-js-实现-h5-history-路由" class="header-anchor">#</a> 如何用 JS 实现 H5 history 路由</h2> <ul><li><p>用 url 规范的路由，但是跳转时不刷新页面</p></li> <li><p>history.pushState</p></li> <li><p>window.onpopstate</p></li> <li><p>后台处理前端的请求的页面，统一到 index.html，以免 404</p></li></ul> <h2 id="vue-原理-考点总结和复习"><a href="#vue-原理-考点总结和复习" class="header-anchor">#</a> vue 原理-考点总结和复习</h2> <ul><li><p>组件化</p> <ul><li>组件历史</li> <li>数据驱动视图</li> <li>MVVM</li></ul></li> <li><p>响应式</p> <ul><li>Object.defineProperty</li> <li>监听对象（深度），监听数组</li> <li>Object.defineProperty 的缺点（3 个缺点）（vue3 用 proxy）</li></ul></li> <li><p>vdom 和 diff</p></li> <li><p>模板编译</p></li> <li><p>应用背景</p> <ul><li>vnode 结果</li> <li>snabbdom vnode h patch</li> <li>with 语法</li> <li>模板编译为 render 函数</li> <li>执行 render 函数生成 vnode</li></ul></li> <li><p>渲染过程</p> <ul><li>初次渲染</li> <li>更新渲染</li> <li>异步渲染</li></ul></li> <li><p>前端路由</p> <ul><li>hash 和 H5 history</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/面试/vue/01vue使用.html" class="prev">
        vue使用
      </a></span> <span class="next"><a href="/docs/面试/vue/03vue面试真题演练.html">
        vue面试真题演练
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.89439026.js" defer></script><script src="/docs/assets/js/2.a3a8f7c5.js" defer></script><script src="/docs/assets/js/48.7253cce3.js" defer></script>
  </body>
</html>
